<app-header></app-header>
<div class="container">
    <app-sidebar></app-sidebar>
    <main class="content">
        <div class="">
            <div class="title">Lista de Desafíos</div>
            <p class="text">
                Aquí usted podrá ver todos los desafíos de beber agua a sus usuarios de Sound Water.
            </p>
            <div class="paneles">
                <div class="panel">
                    <div class="card">
                        <div class="text-container">
                          <div class="vigencia"><strong>EL RETO DE 8 HORAS</strong></div>
                          <div class="descripcion">Durante un día completo, bebe al menos un ...</div>
                        </div>
                        <div class="buttons">
                          <button class="btn editar">Editar</button>
                          <button class="btn borrar">Borrar</button>
                        </div>
                      </div>
                </div>
                <div class="panel">
                    <div class="title2">Editar Mensaje</div>
                    <form [formGroup]="mensajeForm" (ngSubmit)="guardarMensaje()">

                        <!-- Nombre -->
                        <input type="text" formControlName="nombre" class="input-custom"
                            [ngClass]="{'invalid': mensajeForm.get('nombre')?.invalid && mensajeForm.get('nombre')?.touched}"
                            placeholder="Nombre desafío">
                        <div *ngIf="mensajeForm.get('nombre')?.invalid && mensajeForm.get('nombre')?.touched"
                            class="error">
                            El nombre del desafío es obligatorio.
                        </div>

                        <!-- Fecha Inicio -->
                        <input type="date" formControlName="fechaInicio" class="input-custom"
                            [ngClass]="{'invalid': mensajeForm.get('fechaInicio')?.invalid && mensajeForm.get('fechaInicio')?.touched}"
                            placeholder="Fecha inicio">
                        <div *ngIf="mensajeForm.get('fechaInicio')?.invalid && mensajeForm.get('fechaInicio')?.touched"
                            class="error">
                            La fecha de inicio es obligatoria.
                        </div>

                        <!-- Fecha Fin -->
                        <input type="date" formControlName="fechaFin" class="input-custom"
                            [ngClass]="{'invalid': mensajeForm.get('fechaFin')?.invalid && mensajeForm.get('fechaFin')?.touched}"
                            placeholder="Fecha fin">
                        <div *ngIf="mensajeForm.get('fechaFin')?.invalid && mensajeForm.get('fechaFin')?.touched"
                            class="error">
                            La fecha de fin es obligatoria.
                        </div>

                        <!-- Mensaje -->
                        <textarea formControlName="mensaje" class="input-custom"
                            [ngClass]="{'invalid': mensajeForm.get('mensaje')?.invalid && mensajeForm.get('mensaje')?.touched}"
                            placeholder="Mensaje"></textarea>
                        <div *ngIf="mensajeForm.get('mensaje')?.invalid && mensajeForm.get('mensaje')?.touched"
                            class="error">
                            El mensaje es obligatorio y no debe superar los 200 caracteres.
                        </div>

                        <!-- Botón de Guardar -->
                        <button type="submit" class="full-width" [disabled]="mensajeForm.invalid">Editar</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
</div>
<app-footer></app-footer>
